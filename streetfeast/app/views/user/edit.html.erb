<% if @user.errors.any? %>
  <div id="error_explanation">
    <h2>
      <%= pluralize(@user.errors.count, "error") %>
      prohibited this user from being saved:
    </h2>
    <ul>
      <% @user.errors.full_messages.each do |msg| %>
        <li>
          <%= msg %>
        </li>
      <% end %>
    </ul>
  </div>
<% end %>
<style type="text/css">
    .card {
    box-shadow: 0 10px 20px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    border: 1px solid;
    border-radius: 5px;
    height: auto;
}
</style>
<center>
  <div class="card bg-light mb-3" style="max-width: 26rem;margin-top: 5%;">
    <div class="card-header"><b>Update Profile</b></div>
    <div class="card-body">
      <%= form_for (@user), url: "/user/#{@user.id}/update", :html => {:class =>"my_form",multipart: true} do |f| %>
        <fieldset>
          <% if @user.is_admin !=true %>
              <% if @user.fullname.present? %>
                <div class="form-group">
                  <%= f.text_field :fullname,:required => true,:class=>"form-control",placeholder: "Fullname" ,:disabled => "true", autofocus: true %>
                </div>
              <% else %>
                <div class="form-group">
                  <%= f.text_field :fullname,:required => true,:class=>"form-control",placeholder: "Fullname" , autofocus: true %>
                </div>
              <% end %>
              <div class="form-group">
                <%= f.text_field :email,:required => true,:class=>"form-control",placeholder: "Email" ,:disabled => "true" %>
              </div>
          <% else %>
            <div class="form-group">
              <%= f.text_field :fullname,:required => true,:class=>"form-control",placeholder: "Fullname" , autofocus: true %>
            </div>
            <div class="form-group">
              <%= f.text_field :email,:required => true,:class=>"form-control",placeholder: "Email" %>
            </div>
          <% end %>
          <div class="form-group">
            <%= f.text_field :mobile_no,:required => true,:class=>"form-control",placeholder: "Mobile No"  %>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div class="form-group">
               <%= f.text_field :city, class: 'form-control', id: 'city', placeholder: "Select city"%>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="form-group">
                <select class="form-control" id="state" name="state" value = "<%= @user.state%>">
                  <% if @user.state.present? %>
                  <option class=" form-text text-muted" value = "<%= @user.state%>"><%= @user.state%></option>
                  <% else %>
                  <option class=" form-text text-muted" value = "">Select your state</option>
                  <% end %>
                  <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                  <option value="Andhra Pradesh">Andhra Pradesh</option>
                  <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                  <option value="Assam">Assam</option>
                  <option value="Bihar">Bihar</option>
                  <option value="Chandigarh">Chandigarh</option>
                  <option value="Chhattisgarh">Chhattisgarh</option>
                  <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                  <option value="Daman and Diu">Daman and Diu</option>
                  <option value="Delhi">Delhi</option>
                  <option value="Goa">Goa</option>
                  <option value="Gujarat">Gujarat</option>
                  <option value="Haryana">Haryana</option>
                  <option value="Himachal Pradesh">Himachal Pradesh</option>
                  <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                  <option value="Jharkhand">Jharkhand</option>
                  <option value="Karnataka">Karnataka</option>
                  <option value="Kerala">Kerala</option>
                  <option value="Lakshadweep">Lakshadweep</option>
                  <option value="Madhya Pradesh">Madhya Pradesh</option>
                  <option value="Maharashtra">Maharashtra</option>
                  <option value="Manipur">Manipur</option>
                  <option value="Meghalaya">Meghalaya</option>
                  <option value="Mizoram">Mizoram</option>
                  <option value="Nagaland">Nagaland</option>
                  <option value="Orissa">Orissa</option>
                  <option value="Pondicherry">Pondicherry</option>
                  <option value="Punjab">Punjab</option>
                  <option value="Rajasthan">Rajasthan</option>
                  <option value="Sikkim">Sikkim</option>
                  <option value="Tamil Nadu">Tamil Nadu</option>
                  <option value="Tripura">Tripura</option>
                  <option value="Uttaranchal">Uttaranchal</option>
                  <option value="Uttar Pradesh">Uttar Pradesh</option>
                  <option value="West Bengal">West Bengal</option>
                </select>
              </div>
            </div>
          </div>
          <br>
          <div class="actions">
            <button type="submit" class="btn btn-primary btn_large">Update</button>
          </div>
        </fieldset>
      <% end %>
    </div>
  </div>
</center>
<style type="text/css">
  .btn_large
{
  width: 200px;
}
</style>
<script>
  $( function() {
    var availableTags = ["Mumbai","Delhi","Bangalore","Hyderabad","Ahmedabad","Chennai","Kolkata","Surat","Pune","Jaipur","Lucknow","Kanpur","Nagpur","Visakhapatnam","Indore"];
   
    $( "#city" ).autocomplete({
      source: availableTags
    });
  } );

</script>
